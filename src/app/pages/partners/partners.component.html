<div class="partners">
    <div class="header">
      <h1>Partners</h1>
      <div class="search-box">
        <input type="text" [(ngModel)]="searchTerm" (input)="filterPartners()" placeholder="Search partners...">
      </div>
    </div>
  
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Email</th>
          <th>Phone</th>
          <th>Status</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let partner of filteredPartners">
          <td>{{ partner.name }}</td>
          <td>{{ partner.email }}</td>
          <td>{{ partner.phoneNumber || 'N/A' }}</td>
          <td>
            <span [class.suspended]="partner.isSuspended" [class.approved]="!partner.isSuspended">
              {{ partner.isSuspended ? 'Suspended' : 'Active' }}
            </span>
          </td>
          <td class="actions">
            <button (click)="viewPartnerDetails(partner)">Details</button>
            <button 
              [class.btn-danger]="!partner.isSuspended" 
              [class.btn-success]="partner.isSuspended"
              (click)="updatePartnerStatus(partner.id, !partner.isSuspended)">
              {{ partner.isSuspended ? 'Activate' : 'Suspend' }}
            </button>
            <button (click)="openAddPackageModal(partner)">Add Package</button>
          </td>
        </tr>
      </tbody>
    </table>
  
    <!-- Partner Details Modal -->
    <div class="modal" *ngIf="showDetailsModal">
      <div class="modal-content">
        <span class="close" (click)="showDetailsModal = false">&times;</span>
        <h2>Partner Details</h2>
        <div *ngIf="selectedPartner">
          <div class="detail-row">
            <strong>Name:</strong> {{ selectedPartner.name }}
          </div>
          <div class="detail-row">
            <strong>Email:</strong> {{ selectedPartner.email }}
          </div>
          <div class="detail-row">
            <strong>Phone:</strong> {{ selectedPartner.phoneNumber || 'N/A' }}
          </div>
          <div class="detail-row">
            <strong>Status:</strong> {{ selectedPartner.isSuspended ? 'Suspended' : 'Active' }}
          </div>
          <!-- Add more details as needed -->
        </div>
      </div>
    </div>
  
    <!-- Add Package Modal -->
    <div class="modal" *ngIf="showPackageModal">
      <div class="modal-content">
        <span class="close" (click)="showPackageModal = false">&times;</span>
        <h2>Add Package for {{ selectedPartner?.name }}</h2>
        <form (ngSubmit)="addPackage()">
          <div class="form-group">
            <label>Package Name:</label>
            <input type="text" [(ngModel)]="newPackage.name" name="packageName" required>
          </div>
          <div class="form-group">
            <label>Description:</label>
            <textarea [(ngModel)]="newPackage.description" name="description"></textarea>
          </div>
          <div class="form-group">
            <label>Price:</label>
            <input type="number" [(ngModel)]="newPackage.price" name="price" required>
          </div>
          <button type="submit">Add Package</button>
        </form>
      </div>
    </div>
  </div>